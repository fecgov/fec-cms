{% extends "home_base.html" %}
{% load wagtailcore_tags %}
{% load staticfiles %}
{% load top_entities %}
{% load elections_lookup %}
{% load home_page %}
{% load filters %}
{% block body_class %}template-{{ self.get_verbose_name | slugify }}{% endblock %}

{% block content %}
  <section class="hero hero--home" aria-labelledby="hero-heading">
    <div class="container">
      <div class="hero__content">
        <h2 id="hero-heading">Protecting the integrity of the campaign finance process</h2>
        <a class="button button--thin-border" href="/about">More about the FEC</a>
      </div>
    </div>
  </section>

  {% home_page_banner_announcement %}

  <section class="slab">
    <div class="container">
      <div class="heading--section heading--with-action">
        <h2 class="heading__left">News and announcements</h2>
        <a class="button--cta button--updates heading__right" href="/updates">All news</a>
      </div>

      {% home_page_news %}

      <div class="heading--section heading--with-action">
        <h2 class="heading__left">Events and deadlines</h2>
        <a class="button--cta heading__right button--calendar" href="/calendar">Full calendar</a>
      </div>
      <ul class="grid grid--4-wide grid--flex t-sans">
        <li class="grid__item grid__item--with-button">
          <div class="t-bold">Next open commission meeting:</div>
          <div class="js-next-commission-meeting"></div>
          <a class="button button--alt button--updates" href="/meetings">All meetings</a>
        <li class="grid__item grid__item--with-button">
          <div class="t-sans t-bold">Next filing deadline:</div>
          <div class="js-next-filing-deadline"></div>
          <a class="button button--alt button--calendar" href="/calendar/?calendar_category_id=25&calendar_category_id=26&calendar_category_id=27">All filing deadlines</a>
        </li>
        <li class="grid__item grid__item--with-button">
          <div class="t-sans t-bold">Next training or conference:</div>
          <div class="js-next-training-or-conference"></div>
          <a class="button button--alt button--calendar" href="/calendar/?calendar_category_id=33&calendar_category_id=34">All outreach</a>
        </li>
        <li class="grid__item grid__item--with-button">
          <div class="t-sans t-bold">Next public comment deadline:</div>
          <div class="js-next-public-comment-deadline"></div>
          <a class="button button--alt button--calendar" href="/calendar/?calendar_category_id=23">All legal events</a>
        </li>
      </div>
    </div>
  </section>

  <section class="slab slab--home slab--neutral">
    <div class="container">

    {% elections_lookup request %}

      <div class="grid grid--3-wide grid--no-border slab--spacious-margin slab--ruled u-padding--top">
        <div class="grid__item">
          <div class="icon-heading icon-heading--direction-sign-circle primary">
            <p class="t-sans t-small icon-heading__text"><a href="/introduction-campaign-finance/understanding-ways-support-federal-candidates/">Understand ways to support federal candidates</a></p>
          </div>
        </div>
        <div class="grid__item">
          <div class="icon-heading icon-heading--financial-document primary">
            <p class="t-sans t-small icon-heading__text"><a href="/introduction-campaign-finance/how-to-research-public-records/">Learn more about using the FEC's campaign finance data</a></p>
          </div>
        </div>
        <div class="grid__item">
          <div class="icon-heading icon-heading--election-circle primary">
            <p class="t-sans t-small icon-heading__text"><a href="/introduction-campaign-finance/election-and-voting-information/">Find election results and voting information</a></p>
          </div>
        </div>
      </div>

    {% raising_spending request %}

    </div>
  </section>
  <section class="slab">
    <div class="container">
      <h1>Commissioners</h1>
      <div class="content__section content__section--narrow u-padding--top">
        <p>Established in 1975, the FEC is composed of six Commissioners who are appointed by the President and confirmed by the Senate. By law, no more than three can represent the same political party.</p>
        <a class="t-sans" href="/about/mission-and-history">Learn more about the FEC's history and mission Â»</a>
      </div>

      <div class="grid grid--3-wide grid--no-border">
        <div class="grid__item">
          <div class="icon-heading">
            <img class="icon-heading__image" src="{% static 'img/headshot--weintraub.jpg' %}" alt="Headshot of Ellen L. Weintraub">
            <div class="icon-heading__content">
              <div class="t-lead"><a href="/about/leadership-and-structure/ellen-l-weintraub">Ellen L. Weintraub</a></div>
              <div class="t-note">Chair</div>
              <div class="t-sans">Democrat</div>
            </div>
          </div>
        </div>
        <div class="grid__item">
          <div class="icon-heading">
            <img class="icon-heading__image" src="{% static 'img/headshot--petersen.jpg' %}" alt="Headshot of Matthew S. Petersen">
            <div class="icon-heading__content">
              <div class="t-lead"><a href="/about/leadership-and-structure/mathew-s-petersen">Matthew S. Petersen</a></div>
              <div class="t-note">Vice Chairman</div>
              <div class="t-sans">Republican</div>
            </div>
          </div>
        </div>
        <div class="grid__item">
          <div class="icon-heading">
            <img class="icon-heading__image" src="{% static 'img/headshot--hunter.jpg' %}" alt="Headshot of Caroline C. Hunter">
            <div class="icon-heading__content">
              <div class="t-lead"><a href="/about/leadership-and-structure/caroline-c-hunter">Caroline C. Hunter</a></div>
              <div class="t-sans">Republican</div>
            </div>
          </div>
        </div>
        <div class="grid__item">
          <div class="icon-heading">
            <img class="icon-heading__image" src="{% static 'img/headshot--walther.jpg' %}" alt="Headshot of Steven T. Walther">
            <div class="icon-heading__content">
              <div class="t-lead"><a href="/about/leadership-and-structure/steven-t-walther">Steven T. Walther</a></div>
              <div class="t-sans">Independent</div>
            </div>
          </div>
        </div>
        <div class="grid__item">
          <div class="icon-heading">
            <img class="icon-heading__image" src="{% static 'img/headshot--no-photo.jpg' %}" alt="Vacant Position">
            <div class="icon-heading__content">
              <div class="t-lead">Vacant seat</div>
              <div class="t-sans"></div>
            </div>
          </div>
        </div>
        <div class="grid__item">
          <div class="icon-heading">
            <img class="icon-heading__image" src="{% static 'img/headshot--no-photo.jpg' %}" alt="Vacant Position">
            <div class="icon-heading__content">
              <div class="t-lead">Vacant seat</div>
              <div class="t-sans"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
{% endblock %}

{% block extra_js %}
<script>
  var canSkipPolyfills = ('fetch' in window && 'assign' in Object);
  if (!canSkipPolyfills) {
    var pfScriptElem = document.createElement('script');
    pfScriptElem.async = false;
    pfScriptElem.src = "{% asset_for_js 'polyfills.js' %}";
    document.head.appendChild(pfScriptElem);
  }
</script>
<script src="{% asset_for_js 'home.js' %}"></script>
<script src="{% asset_for_js 'bythenumbers.js' %}"></script>
<script src="{% asset_for_js 'dataviz-common.js' %}"></script>
<script src="{% asset_for_js 'election-lookup.js' %}"></script>
<script>
  //remove competing/confusing querystrings on homepage
  $(function(){
    cleanURI()
    function cleanURI(){
      const uri = window.location.toString();
      if (uri.indexOf('?') > 0) {
        window.history.replaceState({}, document.title, location.href.split('?')[0]);
      }
    }
    $('#main').on('change ', 'input, select', function(){
      cleanURI();
    })
    //handle Chrome insconsistency with History API
    $('.js-office').val('P');
    $('.js-election-year').val('2020')
    $('.js-chart-toggle').filter('[value=receipts]').prop('checked', true)
  });
</script>
{% endblock %}
