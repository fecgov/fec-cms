{% extends 'partials/filters.jinja' %}

{% import 'macros/filters/dropdown-json.jinja' as dropdown %}
{% import 'macros/filters/typeahead-filter.jinja' as typeahead %}
{% import 'macros/filters/years.jinja' as years %}

{% block filters %}
<div class="filters__inner">
 {# category/subcategory filter #}
  {{
  	dropdown.select_json(
      'primary_category_id',
      'Primary Categories',
      keys=constants.primary_category_keys,
      options=constants.audit_primary_categories_options,
      default=-1
    )
  }}
  {{
  	dropdown.select_json_indentation(
      'sub_category_id',
      'Sub Categories',
      keys=constants.sub_category_keys,
      options=constants.audit_sub_categories_options,
      default=-2
    )
  }}

{# committee/candidate name/id filter #}
  {{ typeahead.field('committee_id', 'Audited committee name or ID', '', dataset='auditCommittees', allow_text=True) }}
  {{ typeahead.field('candidate_id', 'Authorized candidate name or ID', '', dataset='auditCandidates', allow_text=True) }}
{# election cycle range filter #}
  {{ years.cycleRange('cycle', 'Election cycles covered by audit' ) }}
  {% include 'partials/filters/audit-committee-types.jinja' %}
</div>
{% endblock %}
